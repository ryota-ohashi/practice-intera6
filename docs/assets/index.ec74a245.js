const u=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const n of s.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&i(n)}).observe(document,{childList:!0,subtree:!0});function o(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerpolicy&&(s.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?s.credentials="include":e.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(e){if(e.ep)return;e.ep=!0;const s=o(e);fetch(e.href,s)}};u();class d{constructor(){this.setParams(),this.bind()}setParams(){this.btn=document.querySelector(".btn"),this.img=document.querySelector(".js-img"),this.shutterChildren=document.querySelectorAll(".shutter span"),this.mousedownFlag=!1,this.bindUpdate=this.update.bind(this),this.bindMouseMove=this.mouseMove.bind(this),this.mouse={x:0,y:0},this.mouseDown={start:{x:0,y:0},end:{x:0,y:0},dist:{x:0,y:0}},this.param={x:0,y:0,space:0}}mousedown(t){this.mousedownFlag=!0,this.mouseDown.start.x=t.clientX,this.mouseDown.start.y=t.clientY}mouseup(){this.mousedownFlag=!1,fetch("https://source.unsplash.com/random").then(t=>{this.img.setAttribute("src",t.url)})}update(){if(this.mousedownFlag){const i=this.mouse.x-this.mouseDown.start.x,e=this.mouse.y-this.mouseDown.start.y;this.mouseDown.dist.x=i,this.mouseDown.dist.y=e;var t=.8;this.mouseDown.dist.x*=t,this.mouseDown.dist.y*=t}else this.mouseDown.dist.x=0,this.mouseDown.dist.y=0;let o=-this.mouseDown.dist.y/window.innerHeight*100;o<0&&(o=0),o=100-o,document.documentElement.style.setProperty("--height",o+"vh"),console.log(this.mouseDown.dist.y),window.requestAnimationFrame(this.bindUpdate)}mouseMove(t){this.mouse.x=t.pageX,this.mouse.y=t.pageY,this.scrollY=window.pageYOffset}bindMousemove(){window.addEventListener("mousemove",this.bindMouseMove)}bind(){document.addEventListener("mousedown",this.mousedown.bind(this)),document.addEventListener("mouseup",this.mouseup.bind(this)),this.bindMousemove(),window.requestAnimationFrame(this.bindUpdate)}}window.addEventListener("DOMContentLoaded",()=>{new d});
